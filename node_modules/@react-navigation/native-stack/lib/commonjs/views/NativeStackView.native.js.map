{"version":3,"sources":["NativeStackView.native.tsx"],"names":["isAndroid","Platform","OS","MaybeNestedStack","options","route","presentation","children","colors","header","headerShown","contentStyle","isHeaderInModal","undefined","headerShownPreviousRef","React","useRef","useEffect","current","name","content","styles","container","backgroundColor","background","insets","dimensions","isLandscape","width","height","isPad","isTVOS","isFullScreenModal","topInset","top","headerHeight","StyleSheet","absoluteFill","SceneView","descriptor","previousDescriptor","index","onWillDisappear","onAppear","onDisappear","onDismissed","navigation","render","gestureEnabled","animationTypeForReplace","animation","orientation","statusBarAnimation","statusBarHidden","statusBarStyle","isHeaderInPush","isParentHeaderShown","useContext","HeaderShownContext","parentHeaderHeight","HeaderHeightContext","key","back","title","NativeStackViewInner","state","descriptors","nextDismissedKey","setNextDismissedKey","useState","dismissedRouteName","routes","find","message","console","error","map","previousKey","emit","type","data","closing","target","dispatch","StackActions","pop","source","NativeStackView","props","create","flex"],"mappings":";;;;;;;AAAA;;AAOA;;AAOA;;AACA;;AACA;;AAIA;;AAKA;;AAQA;;AACA;;;;;;;;;;AAEA,MAAMA,SAAS,GAAGC,sBAASC,EAAT,KAAgB,SAAlC;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AACxBC,EAAAA,OADwB;AAExBC,EAAAA,KAFwB;AAGxBC,EAAAA,YAHwB;AAIxBC,EAAAA;AAJwB,CAAD,KAUnB;AACJ,QAAM;AAAEC,IAAAA;AAAF,MAAa,uBAAnB;AACA,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,WAAW,GAAG,IAAxB;AAA8BC,IAAAA;AAA9B,MAA+CP,OAArD;AAEA,QAAMQ,eAAe,GAAGZ,SAAS,GAC7B,KAD6B,GAE7BM,YAAY,KAAK,MAAjB,IAA2BI,WAAW,KAAK,IAA3C,IAAmDD,MAAM,KAAKI,SAFlE;AAIA,QAAMC,sBAAsB,GAAGC,KAAK,CAACC,MAAN,CAAaN,WAAb,CAA/B;AAEAK,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AACpB,2BACE,CAACjB,SAAD,IACEM,YAAY,KAAK,MADnB,IAEEQ,sBAAsB,CAACI,OAAvB,KAAmCR,WAHvC,EAIG,6IAA4IL,KAAK,CAACc,IAAK,IAJ1J;AAOAL,IAAAA,sBAAsB,CAACI,OAAvB,GAAiCR,WAAjC;AACD,GATD,EASG,CAACA,WAAD,EAAcJ,YAAd,EAA4BD,KAAK,CAACc,IAAlC,CATH;AAWA,QAAMC,OAAO,gBACX,oBAAC,uBAAD;AACE,IAAA,KAAK,EAAE,CACLC,MAAM,CAACC,SADF,EAELhB,YAAY,KAAK,kBAAjB,IACEA,YAAY,KAAK,2BADnB,IACkD;AAC9CiB,MAAAA,eAAe,EAAEf,MAAM,CAACgB;AADsB,KAH7C,EAMLb,YANK,CADT;AASE,IAAA,iBAAiB,EAAEL,YAAY,KAAK,MAAjB,GAA0B,MAA1B,GAAmCA;AATxD,KAWGC,QAXH,CADF;AAgBA,QAAMkB,MAAM,GAAG,oDAAf;AACA,QAAMC,UAAU,GAAG,mDAAnB,CAtCI,CAuCJ;;AACA,QAAMC,WAAW,GACfD,UAAU,CAACE,KAAX,GAAmBF,UAAU,CAACG,MAA9B,IACA,CAAE5B,qBAAD,CAAgC6B,KADjC,IAEA,CAAE7B,qBAAD,CAAgC8B,MAHnC,CAxCI,CA4CJ;;AACA,QAAMC,iBAAiB,GACrB1B,YAAY,KAAK,OAAjB,IAA4BA,YAAY,KAAK,WAD/C;AAEA,QAAM2B,QAAQ,GAAGD,iBAAiB,IAAI,CAACL,WAAtB,GAAoCF,MAAM,CAACS,GAA3C,GAAiD,CAAlE;AACA,QAAMC,YAAY,GAAG,sCACnBT,UADmB,EAEnB,CAACM,iBAFkB,EAGnBC,QAHmB,CAArB;;AAMA,MAAIrB,eAAJ,EAAqB;AACnB,wBACE,oBAAC,+BAAD;AAAa,MAAA,KAAK,EAAES,MAAM,CAACC;AAA3B,oBACE,oBAAC,0BAAD;AAAQ,MAAA,OAAO,MAAf;AAAgB,MAAA,KAAK,EAAEc,wBAAWC;AAAlC,oBACE,oBAAC,4BAAD,CAAoB,QAApB;AAA6B,MAAA,KAAK;AAAlC,oBACE,oBAAC,6BAAD,CAAqB,QAArB;AAA8B,MAAA,KAAK,EAAEF;AAArC,oBACE,oBAAC,qBAAD,eAAkB/B,OAAlB;AAA2B,MAAA,KAAK,EAAEC,KAAlC;AAAyC,MAAA,SAAS;AAAlD,OADF,EAEGe,OAFH,CADF,CADF,CADF,CADF;AAYD;;AAED,SAAOA,OAAP;AACD,CAhFD;;AA4FA,MAAMkB,SAAS,GAAG,CAAC;AACjBC,EAAAA,UADiB;AAEjBC,EAAAA,kBAFiB;AAGjBC,EAAAA,KAHiB;AAIjBC,EAAAA,eAJiB;AAKjBC,EAAAA,QALiB;AAMjBC,EAAAA,WANiB;AAOjBC,EAAAA;AAPiB,CAAD,KAQI;AACpB,QAAM;AAAExC,IAAAA,KAAF;AAASyC,IAAAA,UAAT;AAAqB1C,IAAAA,OAArB;AAA8B2C,IAAAA;AAA9B,MAAyCR,UAA/C;AACA,QAAM;AACJS,IAAAA,cADI;AAEJvC,IAAAA,MAFI;AAGJC,IAAAA,WAHI;AAIJuC,IAAAA,uBAAuB,GAAG,MAJtB;AAKJC,IAAAA,SALI;AAMJC,IAAAA,WANI;AAOJC,IAAAA,kBAPI;AAQJC,IAAAA,eARI;AASJC,IAAAA;AATI,MAUFlD,OAVJ;AAYA,MAAI;AAAEE,IAAAA,YAAY,GAAG;AAAjB,MAA4BF,OAAhC;;AAEA,MAAIqC,KAAK,KAAK,CAAd,EAAiB;AACf;AACA;AACAnC,IAAAA,YAAY,GAAG,MAAf;AACD;;AAED,QAAMiD,cAAc,GAAGvD,SAAS,GAC5BU,WAD4B,GAE5BJ,YAAY,KAAK,MAAjB,IAA2BI,WAAW,KAAK,KAF/C;AAIA,QAAMe,MAAM,GAAG,oDAAf;AAEA,QAAM+B,mBAAmB,GAAGzC,KAAK,CAAC0C,UAAN,CAAiBC,4BAAjB,CAA5B;AACA,QAAMC,kBAAkB,GAAG5C,KAAK,CAAC0C,UAAN,CAAiBG,6BAAjB,CAA3B;AACA,QAAMzB,YAAY,GAAG,sCACnB,mDADmB,EAEnB,KAFmB,EAGnBV,MAAM,CAACS,GAHY,CAArB;AAMA,sBACE,oBAAC,0BAAD;AACE,IAAA,GAAG,EAAE7B,KAAK,CAACwD,GADb;AAEE,IAAA,OAAO,MAFT;AAGE,IAAA,KAAK,EAAEzB,wBAAWC,YAHpB;AAIE,IAAA,cAAc,EACZrC,SAAS,GACL;AACA;AACA,SAHK,GAILgD,cATR;AAWE,IAAA,gBAAgB,EAAEC,uBAXpB;AAYE,IAAA,iBAAiB,EAAE3C,YAAY,KAAK,MAAjB,GAA0B,MAA1B,GAAmCA,YAZxD;AAaE,IAAA,cAAc,EAAE4C,SAblB;AAcE,IAAA,iBAAiB,EAAEC,WAdrB;AAeE,IAAA,kBAAkB,EAAEC,kBAftB;AAgBE,IAAA,eAAe,EAAEC,eAhBnB;AAiBE,IAAA,cAAc,EAAEC,cAjBlB;AAkBE,IAAA,eAAe,EAAEZ,eAlBnB;AAmBE,IAAA,QAAQ,EAAEC,QAnBZ;AAoBE,IAAA,WAAW,EAAEC,WApBf;AAqBE,IAAA,WAAW,EAAEC;AArBf,kBAuBE,oBAAC,4BAAD,CAAoB,QAApB;AACE,IAAA,KAAK,EAAEW,mBAAmB,IAAID,cAAc,KAAK;AADnD,kBAGE,oBAAC,6BAAD,CAAqB,QAArB;AACE,IAAA,KAAK,EACHA,cAAc,KAAK,KAAnB,GAA2BpB,YAA3B,GAA0CwB,kBAA1C,aAA0CA,kBAA1C,cAA0CA,kBAA1C,GAAgE;AAFpE,KAKGlD,MAAM,KAAKI,SAAX,IAAwBH,WAAW,KAAK,KAAxC,GACC;AACAD,EAAAA,MAAM,CAAC;AACLqD,IAAAA,IAAI,EAAEtB,kBAAkB,GACpB;AACEuB,MAAAA,KAAK,EAAE,8BACLvB,kBAAkB,CAACpC,OADd,EAELoC,kBAAkB,CAACnC,KAAnB,CAAyBc,IAFpB;AADT,KADoB,GAOpBN,SARC;AASLT,IAAAA,OATK;AAULC,IAAAA,KAVK;AAWLyC,IAAAA;AAXK,GAAD,CAFP,gBAgBC,oBAAC,qBAAD,eACM1C,OADN;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,WAAW,EAAEkD,cAHf;AAIE,IAAA,SAAS,EAAEd,KAAK,KAAK;AAJvB,KArBJ,eA4BE,oBAAC,gBAAD;AACE,IAAA,OAAO,EAAErC,OADX;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,YAAY,EAAEC;AAHhB,KAKGyC,MAAM,EALT,CA5BF,CAHF,CAvBF,CADF;AAkED,CA9GD;;AAsHA,SAASiB,oBAAT,CAA8B;AAAEC,EAAAA,KAAF;AAASnB,EAAAA,UAAT;AAAqBoB,EAAAA;AAArB,CAA9B,EAAyE;AAAA;;AACvE,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IACJrD,KAAK,CAACsD,QAAN,CAA8B,IAA9B,CADF;AAGA,QAAMC,kBAAkB,GAAGH,gBAAgB,yBACvCF,KAAK,CAACM,MAAN,CAAaC,IAAb,CAAmBnE,KAAD,IAAWA,KAAK,CAACwD,GAAN,KAAcM,gBAA3C,CADuC,uDACvC,mBAA8DhD,IADvB,GAEvC,IAFJ;AAIAJ,EAAAA,KAAK,CAACE,SAAN,CAAgB,MAAM;AACpB,QAAIqD,kBAAJ,EAAwB;AACtB,YAAMG,OAAO,GACV,eAAcH,kBAAmB,+DAAlC,GACC,6HADD,GAEC,uJAHH;AAKAI,MAAAA,OAAO,CAACC,KAAR,CAAcF,OAAd;AACD;AACF,GATD,EASG,CAACH,kBAAD,CATH;AAWA,sBACE,oBAAC,+BAAD;AAAa,IAAA,KAAK,EAAEjD,MAAM,CAACC;AAA3B,KACG2C,KAAK,CAACM,MAAN,CAAaK,GAAb,CAAiB,CAACvE,KAAD,EAAQoC,KAAR,KAAkB;AAAA;;AAClC,UAAMF,UAAU,GAAG2B,WAAW,CAAC7D,KAAK,CAACwD,GAAP,CAA9B;AACA,UAAMgB,WAAW,oBAAGZ,KAAK,CAACM,MAAN,CAAa9B,KAAK,GAAG,CAArB,CAAH,kDAAG,cAAyBoB,GAA7C;AACA,UAAMrB,kBAAkB,GAAGqC,WAAW,GAClCX,WAAW,CAACW,WAAD,CADuB,GAElChE,SAFJ;AAIA,wBACE,oBAAC,SAAD;AACE,MAAA,GAAG,EAAER,KAAK,CAACwD,GADb;AAEE,MAAA,KAAK,EAAEpB,KAFT;AAGE,MAAA,UAAU,EAAEF,UAHd;AAIE,MAAA,kBAAkB,EAAEC,kBAJtB;AAKE,MAAA,eAAe,EAAE,MAAM;AACrBM,QAAAA,UAAU,CAACgC,IAAX,CAAgB;AACdC,UAAAA,IAAI,EAAE,iBADQ;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAE7E,KAAK,CAACwD;AAHA,SAAhB;AAKD,OAXH;AAYE,MAAA,QAAQ,EAAE,MAAM;AACdf,QAAAA,UAAU,CAACgC,IAAX,CAAgB;AACdC,UAAAA,IAAI,EAAE,eADQ;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAE7E,KAAK,CAACwD;AAHA,SAAhB;AAKD,OAlBH;AAmBE,MAAA,WAAW,EAAE,MAAM;AACjBf,QAAAA,UAAU,CAACgC,IAAX,CAAgB;AACdC,UAAAA,IAAI,EAAE,eADQ;AAEdC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFQ;AAGdC,UAAAA,MAAM,EAAE7E,KAAK,CAACwD;AAHA,SAAhB;AAKD,OAzBH;AA0BE,MAAA,WAAW,EAAE,MAAM;AACjBf,QAAAA,UAAU,CAACqC,QAAX,CAAoB,EAClB,GAAGC,qBAAaC,GAAb,EADe;AAElBC,UAAAA,MAAM,EAAEjF,KAAK,CAACwD,GAFI;AAGlBqB,UAAAA,MAAM,EAAEjB,KAAK,CAACJ;AAHI,SAApB;AAMAO,QAAAA,mBAAmB,CAAC/D,KAAK,CAACwD,GAAP,CAAnB;AACD;AAlCH,MADF;AAsCD,GA7CA,CADH,CADF;AAkDD;;AAEc,SAAS0B,eAAT,CAAyBC,KAAzB,EAAuC;AACpD,sBACE,oBAAC,gCAAD,qBACE,oBAAC,oBAAD,EAA0BA,KAA1B,CADF,CADF;AAKD;;AAED,MAAMnE,MAAM,GAAGe,wBAAWqD,MAAX,CAAkB;AAC/BnE,EAAAA,SAAS,EAAE;AACToE,IAAAA,IAAI,EAAE;AADG;AADoB,CAAlB,CAAf","sourcesContent":["import {\n  getDefaultHeaderHeight,\n  getHeaderTitle,\n  HeaderHeightContext,\n  HeaderShownContext,\n  SafeAreaProviderCompat,\n} from '@react-navigation/elements';\nimport {\n  ParamListBase,\n  Route,\n  StackActions,\n  StackNavigationState,\n  useTheme,\n} from '@react-navigation/native';\nimport * as React from 'react';\nimport { Platform, PlatformIOSStatic, StyleSheet } from 'react-native';\nimport {\n  useSafeAreaFrame,\n  useSafeAreaInsets,\n} from 'react-native-safe-area-context';\nimport {\n  Screen,\n  ScreenStack,\n  StackPresentationTypes,\n} from 'react-native-screens';\nimport warnOnce from 'warn-once';\n\nimport type {\n  NativeStackDescriptor,\n  NativeStackDescriptorMap,\n  NativeStackNavigationHelpers,\n  NativeStackNavigationOptions,\n} from '../types';\nimport DebugContainer from './DebugContainer';\nimport HeaderConfig from './HeaderConfig';\n\nconst isAndroid = Platform.OS === 'android';\n\nconst MaybeNestedStack = ({\n  options,\n  route,\n  presentation,\n  children,\n}: {\n  options: NativeStackNavigationOptions;\n  route: Route<string>;\n  presentation: Exclude<StackPresentationTypes, 'push'> | 'card';\n  children: React.ReactNode;\n}) => {\n  const { colors } = useTheme();\n  const { header, headerShown = true, contentStyle } = options;\n\n  const isHeaderInModal = isAndroid\n    ? false\n    : presentation !== 'card' && headerShown === true && header === undefined;\n\n  const headerShownPreviousRef = React.useRef(headerShown);\n\n  React.useEffect(() => {\n    warnOnce(\n      !isAndroid &&\n        presentation !== 'card' &&\n        headerShownPreviousRef.current !== headerShown,\n      `Dynamically changing 'headerShown' in modals will result in remounting the screen and losing all local state. See options for the screen '${route.name}'.`\n    );\n\n    headerShownPreviousRef.current = headerShown;\n  }, [headerShown, presentation, route.name]);\n\n  const content = (\n    <DebugContainer\n      style={[\n        styles.container,\n        presentation !== 'transparentModal' &&\n          presentation !== 'containedTransparentModal' && {\n            backgroundColor: colors.background,\n          },\n        contentStyle,\n      ]}\n      stackPresentation={presentation === 'card' ? 'push' : presentation}\n    >\n      {children}\n    </DebugContainer>\n  );\n\n  const insets = useSafeAreaInsets();\n  const dimensions = useSafeAreaFrame();\n  // landscape is meaningful only for iPhone\n  const isLandscape =\n    dimensions.width > dimensions.height &&\n    !(Platform as PlatformIOSStatic).isPad &&\n    !(Platform as PlatformIOSStatic).isTVOS;\n  // `modal` and `formSheet` presentations do not take whole screen, so should not take the inset.\n  const isFullScreenModal =\n    presentation !== 'modal' && presentation !== 'formSheet';\n  const topInset = isFullScreenModal && !isLandscape ? insets.top : 0;\n  const headerHeight = getDefaultHeaderHeight(\n    dimensions,\n    !isFullScreenModal,\n    topInset\n  );\n\n  if (isHeaderInModal) {\n    return (\n      <ScreenStack style={styles.container}>\n        <Screen enabled style={StyleSheet.absoluteFill}>\n          <HeaderShownContext.Provider value>\n            <HeaderHeightContext.Provider value={headerHeight}>\n              <HeaderConfig {...options} route={route} canGoBack />\n              {content}\n            </HeaderHeightContext.Provider>\n          </HeaderShownContext.Provider>\n        </Screen>\n      </ScreenStack>\n    );\n  }\n\n  return content;\n};\n\ntype SceneViewProps = {\n  index: number;\n  descriptor: NativeStackDescriptor;\n  previousDescriptor?: NativeStackDescriptor;\n  onWillDisappear: () => void;\n  onAppear: () => void;\n  onDisappear: () => void;\n  onDismissed: () => void;\n};\n\nconst SceneView = ({\n  descriptor,\n  previousDescriptor,\n  index,\n  onWillDisappear,\n  onAppear,\n  onDisappear,\n  onDismissed,\n}: SceneViewProps) => {\n  const { route, navigation, options, render } = descriptor;\n  const {\n    gestureEnabled,\n    header,\n    headerShown,\n    animationTypeForReplace = 'push',\n    animation,\n    orientation,\n    statusBarAnimation,\n    statusBarHidden,\n    statusBarStyle,\n  } = options;\n\n  let { presentation = 'card' } = options;\n\n  if (index === 0) {\n    // first screen should always be treated as `card`, it resolves problems with no header animation\n    // for navigator with first screen as `modal` and the next as `card`\n    presentation = 'card';\n  }\n\n  const isHeaderInPush = isAndroid\n    ? headerShown\n    : presentation === 'card' && headerShown !== false;\n\n  const insets = useSafeAreaInsets();\n\n  const isParentHeaderShown = React.useContext(HeaderShownContext);\n  const parentHeaderHeight = React.useContext(HeaderHeightContext);\n  const headerHeight = getDefaultHeaderHeight(\n    useSafeAreaFrame(),\n    false,\n    insets.top\n  );\n\n  return (\n    <Screen\n      key={route.key}\n      enabled\n      style={StyleSheet.absoluteFill}\n      gestureEnabled={\n        isAndroid\n          ? // This prop enables handling of system back gestures on Android\n            // Since we handle them in JS side, we disable this\n            false\n          : gestureEnabled\n      }\n      replaceAnimation={animationTypeForReplace}\n      stackPresentation={presentation === 'card' ? 'push' : presentation}\n      stackAnimation={animation}\n      screenOrientation={orientation}\n      statusBarAnimation={statusBarAnimation}\n      statusBarHidden={statusBarHidden}\n      statusBarStyle={statusBarStyle}\n      onWillDisappear={onWillDisappear}\n      onAppear={onAppear}\n      onDisappear={onDisappear}\n      onDismissed={onDismissed}\n    >\n      <HeaderShownContext.Provider\n        value={isParentHeaderShown || isHeaderInPush !== false}\n      >\n        <HeaderHeightContext.Provider\n          value={\n            isHeaderInPush !== false ? headerHeight : parentHeaderHeight ?? 0\n          }\n        >\n          {header !== undefined && headerShown !== false ? (\n            // TODO: expose custom header height\n            header({\n              back: previousDescriptor\n                ? {\n                    title: getHeaderTitle(\n                      previousDescriptor.options,\n                      previousDescriptor.route.name\n                    ),\n                  }\n                : undefined,\n              options,\n              route,\n              navigation,\n            })\n          ) : (\n            <HeaderConfig\n              {...options}\n              route={route}\n              headerShown={isHeaderInPush}\n              canGoBack={index !== 0}\n            />\n          )}\n          <MaybeNestedStack\n            options={options}\n            route={route}\n            presentation={presentation}\n          >\n            {render()}\n          </MaybeNestedStack>\n        </HeaderHeightContext.Provider>\n      </HeaderShownContext.Provider>\n    </Screen>\n  );\n};\n\ntype Props = {\n  state: StackNavigationState<ParamListBase>;\n  navigation: NativeStackNavigationHelpers;\n  descriptors: NativeStackDescriptorMap;\n};\n\nfunction NativeStackViewInner({ state, navigation, descriptors }: Props) {\n  const [nextDismissedKey, setNextDismissedKey] =\n    React.useState<string | null>(null);\n\n  const dismissedRouteName = nextDismissedKey\n    ? state.routes.find((route) => route.key === nextDismissedKey)?.name\n    : null;\n\n  React.useEffect(() => {\n    if (dismissedRouteName) {\n      const message =\n        `The screen '${dismissedRouteName}' was removed natively but didn't get removed from JS state. ` +\n        `This can happen if the action was prevented in a 'beforeRemove' listener, which is not fully supported in native-stack.\\n\\n` +\n        `Consider using 'gestureEnabled: false' to prevent back gesture and use a custom back button with 'headerLeft' option to override the native behavior.`;\n\n      console.error(message);\n    }\n  }, [dismissedRouteName]);\n\n  return (\n    <ScreenStack style={styles.container}>\n      {state.routes.map((route, index) => {\n        const descriptor = descriptors[route.key];\n        const previousKey = state.routes[index - 1]?.key;\n        const previousDescriptor = previousKey\n          ? descriptors[previousKey]\n          : undefined;\n\n        return (\n          <SceneView\n            key={route.key}\n            index={index}\n            descriptor={descriptor}\n            previousDescriptor={previousDescriptor}\n            onWillDisappear={() => {\n              navigation.emit({\n                type: 'transitionStart',\n                data: { closing: true },\n                target: route.key,\n              });\n            }}\n            onAppear={() => {\n              navigation.emit({\n                type: 'transitionEnd',\n                data: { closing: false },\n                target: route.key,\n              });\n            }}\n            onDisappear={() => {\n              navigation.emit({\n                type: 'transitionEnd',\n                data: { closing: true },\n                target: route.key,\n              });\n            }}\n            onDismissed={() => {\n              navigation.dispatch({\n                ...StackActions.pop(),\n                source: route.key,\n                target: state.key,\n              });\n\n              setNextDismissedKey(route.key);\n            }}\n          />\n        );\n      })}\n    </ScreenStack>\n  );\n}\n\nexport default function NativeStackView(props: Props) {\n  return (\n    <SafeAreaProviderCompat>\n      <NativeStackViewInner {...props} />\n    </SafeAreaProviderCompat>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n"]}